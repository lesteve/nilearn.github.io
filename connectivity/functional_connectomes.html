
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Nilearn: Machine learning for NeuroImaging in Python &mdash; Machine learning for NeuroImaging</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.4.post1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Machine learning for NeuroImaging" href="../user_guide.html" />
    <link rel="up" title="3. Functional connectivity and resting state" href="index.html" />
    <link rel="next" title="3.2. Connectome extraction: inverse covariance for direct connections" href="connectome_extraction.html" />
    <link rel="prev" title="3. Functional connectivity and resting state" href="index.html" />
<meta content="True" name="HandheldFriendly">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="keywords" content="nilearn, neuroimaging, python, neuroscience, machinelearning">
<script type="text/javascript">
$(function () {
    // Lock the table of content to a fixed position once we scroll enough
    var top = 105 + $('.sphinxsidebarwrapper').offset().top - parseFloat($('.sphinxsidebarwrapper').css('margin-top').replace(/auto/, 0)),
        sections = {},
        i        = 0,
	url	 = document.URL.replace(/#.*$/, ""),
	current_section = 0;

    // Grab positions of our sections 
    $('.headerlink').each(function(){
        sections[this.href.replace(url, '')] = $(this).offset().top - 50;
    });

    $(window).scroll(function(event) {
	var pos   = $(window).scrollTop();
	// Lock the table of content to a fixed position once we scroll enough
	if(pos > top){
	    //begin to scroll
	    $('.sphinxsidebarwrapper').css("position", "fixed");
	    $('.sphinxsidebarwrapper').css("top", -105);
	}
	else{
	    //lock it back into place
	    $('.sphinxsidebarwrapper').css("position", "relative");
	    $('.sphinxsidebarwrapper').css("top",0);
	}
            
	// Highlight the current section
	$('a.internal').removeClass('active');
        for(i in sections){
            if(sections[i] > pos){
		break;
            };
	    if($('a.internal[href$="' + i + '"]').is(':visible')){
		current_section = i;
	    };
        }
	$('a.internal[href$="' + current_section + '"]').addClass('active');
    });

});
</script>


<script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-41920728-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

  </head>
  <body role="document">
<div id="logo-banner">
  <div class="logo">
    <a href="../index.html">
      <img src="../_static/nilearn-logo.png" alt="Nilearn logo"  border="0" />
    </a>
  </div>
  <!-- A tag cloud to make it easy for people to find what they are
                         looking for -->
 <div class="tags">
  <ul>
    <li>
      <big><a href="../auto_examples/plot_haxby_anova_svm.html">SVM</a></big>
    </li>
    <li>
      <small><a href="../data_analysis/parcellating.html">Ward
          clustering</a></small>
    </li>
    <li>
      <a href="../building_blocks/haxby_searchlight.html">Searchlight</a>
    </li>
    <li>
      <big><a href="../data_analysis/resting_state_networks.html">ICA</a></big>
    </li>
    <li>
      <a href="../building_blocks/data_preparation.html">Nifti IO</a>
    </li>
    <li>
      <a href="../modules/reference.html#module-nilearn.datasets">Datasets</a>
    </li>
  </ul>
 </div>

  <div class="banner">
    <h1>Nilearn:</h1>
    <h2>Machine learning for Neuro-Imaging in Python</h2>
  </div>
  <div class="search_form">
    <div id="cse" style="width: 100%;"></div>
    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript">
      google.load('search', '1', {language : 'en'});
      google.setOnLoadCallback(function() {
      var customSearchControl = new google.search.CustomSearchControl('014136483057745874622:r-npolb1uki');
      customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
      var options = new google.search.DrawOptions();
      options.setAutoComplete(true);
      customSearchControl.draw('cse', options);
      }, true);
    </script>
  </div>
</div>



    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="connectome_extraction.html" title="3.2. Connectome extraction: inverse covariance for direct connections"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="3. Functional connectivity and resting state"
             accesskey="P">previous</a> |</li>
<li><a href="../index.html">Nilearn Home</a> |&nbsp;</li>
<li><a href="../user_guide.html">User Guide</a> |&nbsp;</li>
<li><a href="../auto_examples/index.html">Examples</a> |&nbsp;</li>
<li><a href="../modules/reference.html">Reference</a> |&nbsp;</li>
<li id="navbar-about"><a href="../AUTHORS.html">About</a>|&nbsp;</li>
<li id="navbar-ecosystem"><a href="http://www.nipy.org/">Nipy ecosystem</a></li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">3. Functional connectivity and resting state</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">


<h4> Giving credit </h4>
  <ul class="simple">
    <li><p>Please consider <a href="../AUTHORS.html#citing">citing the
                    scikit-learn</a> if you use it.</p></li>
  </ul>

  <h3><a href="../user_guide.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3.1. Extracting times series to build a functional connectome</a><ul>
<li><a class="reference internal" href="#time-series-from-a-brain-parcellation-or-maxprob-atlas">3.1.1. Time-series from a brain parcellation or &#8220;MaxProb&#8221; atlas</a><ul>
<li><a class="reference internal" href="#brain-parcellations">3.1.1.1. Brain parcellations</a></li>
<li><a class="reference internal" href="#extracting-signals-on-a-parcellation">3.1.1.2. Extracting signals on a parcellation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#time-series-from-a-probabilistic-atlas">3.1.2. Time-series from a probabilistic atlas</a><ul>
<li><a class="reference internal" href="#probabilistic-atlases">3.1.2.1. Probabilistic atlases</a></li>
<li><a class="reference internal" href="#extracting-signals-from-a-probabilistic-atlas">3.1.2.2. Extracting signals from a probabilistic atlas</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a-functional-connectome-a-graph-of-interactions">3.1.3. A functional connectome: a graph of interactions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">3. Functional connectivity and resting state</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="connectome_extraction.html"
                        title="next chapter">3.2. Connectome extraction: inverse covariance for direct connections</a></p>

<div class="navbar">
</div> <!-- end navbar -->

<script type="text/javascript">$('#searchbox-ml').show(0);</script>
<script type="text/javascript">$('#searchbox-site').show(0);</script>


        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="extracting-times-series-to-build-a-functional-connectome">
<span id="functional-connectomes"></span><h1>3.1. Extracting times series to build a functional connectome<a class="headerlink" href="#extracting-times-series-to-build-a-functional-connectome" title="Permalink to this headline">Â¶</a></h1>
<div class="topic">
<p class="topic-title first"><strong>Page summary</strong></p>
<p>A <em>functional connectome</em> is a set of connections representing brain
interactions between regions. Here we show how to extract activation
time-series to compute functional connectomes.</p>
</div>
<div class="contents local topic" id="contents">
<p class="topic-title first"><strong>Contents</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#time-series-from-a-brain-parcellation-or-maxprob-atlas" id="id3">Time-series from a brain parcellation or &#8220;MaxProb&#8221; atlas</a></li>
<li><a class="reference internal" href="#time-series-from-a-probabilistic-atlas" id="id4">Time-series from a probabilistic atlas</a></li>
<li><a class="reference internal" href="#a-functional-connectome-a-graph-of-interactions" id="id5">A functional connectome: a graph of interactions</a></li>
</ul>
</div>
<div class="topic">
<p class="topic-title first"><strong>References</strong></p>
<ul class="simple">
<li><a class="reference external" href="http://www.sciencedirect.com/science/article/pii/S1053811913003340">Varoquaux and Craddock, Learning and comparing functional
connectomes across subjects, NeuroImage 2013</a></li>
</ul>
</div>
<div class="section" id="time-series-from-a-brain-parcellation-or-maxprob-atlas">
<span id="parcellation-time-series"></span><h2><a class="toc-backref" href="#id3">3.1.1. Time-series from a brain parcellation or &#8220;MaxProb&#8221; atlas</a><a class="headerlink" href="#time-series-from-a-brain-parcellation-or-maxprob-atlas" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="brain-parcellations">
<h3>3.1.1.1. Brain parcellations<a class="headerlink" href="#brain-parcellations" title="Permalink to this headline">Â¶</a></h3>
<p>Regions used to extract the signal can be defined by a &#8220;hard&#8221;
parcellation. For instance, the <a class="reference internal" href="../modules/reference.html#module-nilearn.datasets" title="nilearn.datasets"><code class="xref py py-mod docutils literal"><span class="pre">nilearn.datasets</span></code></a> has functions to
download atlases forming reference parcellation, eg
<code class="xref py py-func docutils literal"><span class="pre">fetch_craddock_2011_atlas</span></code>, <a class="reference internal" href="../modules/generated/nilearn.datasets.fetch_harvard_oxford.html#nilearn.datasets.fetch_harvard_oxford" title="nilearn.datasets.fetch_harvard_oxford"><code class="xref py py-func docutils literal"><span class="pre">fetch_harvard_oxford</span></code></a>,
<a class="reference internal" href="../modules/generated/nilearn.datasets.fetch_yeo_2011_atlas.html#nilearn.datasets.fetch_yeo_2011_atlas" title="nilearn.datasets.fetch_yeo_2011_atlas"><code class="xref py py-func docutils literal"><span class="pre">fetch_yeo_2011_atlas</span></code></a>.</p>
<p>For instance to retrieve the Harvard-Oxford cortical parcelation, sampled
at 2mm, and with a threshold of a probability of .25:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">nilearn</span> <span class="kn">import</span> <span class="n">datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">fetch_harvard_oxford</span><span class="p">(</span><span class="s">&#39;cort-maxprob-thr25-2mm&#39;</span><span class="p">)</span>
<span class="n">atlas_filename</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">maps</span><span class="p">,</span> <span class="n">dataset</span><span class="o">.</span><span class="n">labels</span>
</pre></div>
</div>
<p>Plotting can then be done as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">nilearn</span> <span class="kn">import</span> <span class="n">plotting</span>
<span class="n">plotting</span><span class="o">.</span><span class="n">plot_roi</span><span class="p">(</span><span class="n">atlas_filename</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference external image-reference" href="../auto_examples/manipulating_visualizing/plot_atlas.html"><img alt="../_images/plot_atlas_0011.png" src="../_images/plot_atlas_0011.png" style="width: 396.0px; height: 156.0px;" /></a>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li>The <a class="reference internal" href="../manipulating_visualizing/plotting.html#plotting"><span>plotting documentation</span></a></li>
<li>The <a class="reference internal" href="../modules/reference.html#datasets-ref"><span>dataset downloaders</span></a></li>
</ul>
</div>
</div>
<div class="section" id="extracting-signals-on-a-parcellation">
<h3>3.1.1.2. Extracting signals on a parcellation<a class="headerlink" href="#extracting-signals-on-a-parcellation" title="Permalink to this headline">Â¶</a></h3>
<p>To extract signal on the parcellation, the easiest option is to use the
<a class="reference internal" href="../modules/generated/nilearn.input_data.NiftiLabelsMasker.html#nilearn.input_data.NiftiLabelsMasker" title="nilearn.input_data.NiftiLabelsMasker"><code class="xref py py-class docutils literal"><span class="pre">nilearn.input_data.NiftiLabelsMasker</span></code></a>. As any &#8216;&#8217;maskers&#8217;&#8217; in
nilearn, it is a processing object that is created by specifying all
the important parameters, but not the data:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">nilearn.input_data</span> <span class="kn">import</span> <span class="n">NiftiLabelsMasker</span>
<span class="n">masker</span> <span class="o">=</span> <span class="n">NiftiLabelsMasker</span><span class="p">(</span><span class="n">labels_img</span><span class="o">=</span><span class="n">atlas_filename</span><span class="p">,</span> <span class="n">standardize</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The Nifti data can then be turned to time-series by calling the
<a class="reference internal" href="../modules/generated/nilearn.input_data.NiftiLabelsMasker.html#nilearn.input_data.NiftiLabelsMasker" title="nilearn.input_data.NiftiLabelsMasker"><code class="xref py py-class docutils literal"><span class="pre">NiftiLabelsMasker</span></code></a> <cite>fit_transform</cite> method, that takes either
filenames or <a class="reference external" href="http://nipy.org/nibabel/nibabel_images.html">NiftiImage objects</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">time_series</span> <span class="o">=</span> <span class="n">masker</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">frmi_files</span><span class="p">,</span> <span class="n">confounds</span><span class="o">=</span><span class="n">csv_file</span><span class="p">)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Note that confound signals can be specified in the call. Indeed, to
obtain time series that capture well the functional interactions between
regions, regressing out noise sources is indeed very important
<a class="reference external" href="https://hal.inria.fr/hal-00812911/">[Varoquaux &amp; Craddock 2013]</a>.</p>
<a class="reference external image-reference" href="../auto_examples/connectivity/plot_signal_extraction.html"><img alt="../_images/plot_signal_extraction_0011.png" src="../_images/plot_signal_extraction_0011.png" style="width: 400.0px; height: 400.0px;" /></a>
<a class="reference external image-reference" href="../auto_examples/connectivity/plot_signal_extraction.html"><img alt="../_images/plot_signal_extraction_0021.png" src="../_images/plot_signal_extraction_0021.png" style="width: 400.0px; height: 400.0px;" /></a>
<div class="topic">
<p class="topic-title first"><strong>Full example</strong></p>
<p>See the following example for a full file running the analysis:
<a class="reference internal" href="../auto_examples/connectivity/plot_signal_extraction.html#example-connectivity-plot-signal-extraction-py"><span>Extracting signals from a brain parcellation</span></a></p>
</div>
<div class="green topic">
<p class="topic-title first"><strong>Exercise: computing the correlation matrix of rest fmri</strong></p>
<p>Try using the information above to compute the correlation matrix of
the first subject of the ADHD dataset downloaded with
<a class="reference internal" href="../modules/generated/nilearn.datasets.fetch_adhd.html#nilearn.datasets.fetch_adhd" title="nilearn.datasets.fetch_adhd"><code class="xref py py-func docutils literal"><span class="pre">nilearn.datasets.fetch_adhd</span></code></a></p>
<p><strong>Hints:</strong></p>
<ul class="simple">
<li>Inspect the &#8216;.keys()&#8217; of the object returned by
<a class="reference internal" href="../modules/generated/nilearn.datasets.fetch_adhd.html#nilearn.datasets.fetch_adhd" title="nilearn.datasets.fetch_adhd"><code class="xref py py-func docutils literal"><span class="pre">nilearn.datasets.fetch_adhd</span></code></a></li>
<li><a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.corrcoef.html#numpy.corrcoef" title="(in NumPy v1.9)"><code class="xref py py-func docutils literal"><span class="pre">numpy.corrcoef</span></code></a> can be used to compute a correlation matrix
(check the shape of your matrices)</li>
<li><a class="reference external" href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.imshow" title="(in Matplotlib v1.4.3)"><code class="xref py py-func docutils literal"><span class="pre">matplotlib.pyplot.imshow</span></code></a> can show a correlation matrix</li>
<li>The example above has the solution</li>
</ul>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="time-series-from-a-probabilistic-atlas">
<h2><a class="toc-backref" href="#id4">3.1.2. Time-series from a probabilistic atlas</a><a class="headerlink" href="#time-series-from-a-probabilistic-atlas" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="probabilistic-atlases">
<h3>3.1.2.1. Probabilistic atlases<a class="headerlink" href="#probabilistic-atlases" title="Permalink to this headline">Â¶</a></h3>
<p>The definition of regions as by a continuous probability map captures
better our imperfect knowledge of boundaries in brain images (notably
because of inter-subject registration errors). One example of such an
atlas well suited to resting-state data analysis is the <a class="reference external" href="https://team.inria.fr/parietal/research/spatial_patterns/spatial-patterns-in-resting-state/">MSDL atlas</a> (<a class="reference internal" href="../modules/generated/nilearn.datasets.fetch_msdl_atlas.html#nilearn.datasets.fetch_msdl_atlas" title="nilearn.datasets.fetch_msdl_atlas"><code class="xref py py-func docutils literal"><span class="pre">nilearn.datasets.fetch_msdl_atlas</span></code></a>).</p>
<p>Probabilistic atlases are represented as a set of continuous maps, in a
4D nifti image. Visualization the atlas thus requires to visualize each
of these maps, which requires accessing them with
<a class="reference internal" href="../modules/generated/nilearn.image.index_img.html#nilearn.image.index_img" title="nilearn.image.index_img"><code class="xref py py-func docutils literal"><span class="pre">nilearn.image.index_img</span></code></a> (see the <a class="reference internal" href="../auto_examples/manipulating_visualizing/plot_probabilistic_atlas.html#example-manipulating-visualizing-plot-probabilistic-atlas-py"><span>corresponding example</span></a>).</p>
<a class="reference external image-reference" href="../auto_examples/manipulating_visualizing/plot_probabilistic_atlas.html"><img alt="../_images/plot_probabilistic_atlas_0011.png" src="../_images/plot_probabilistic_atlas_0011.png" style="width: 396.0px; height: 156.0px;" /></a>
</div>
<div class="section" id="extracting-signals-from-a-probabilistic-atlas">
<h3>3.1.2.2. Extracting signals from a probabilistic atlas<a class="headerlink" href="#extracting-signals-from-a-probabilistic-atlas" title="Permalink to this headline">Â¶</a></h3>
<p>As with extraction of signals on a parcellation, extracting signals from
a probabilistic atlas can be done with a &#8220;masker&#8221; object:  the
<a class="reference internal" href="../modules/generated/nilearn.input_data.NiftiMapsMasker.html#nilearn.input_data.NiftiMapsMasker" title="nilearn.input_data.NiftiMapsMasker"><code class="xref py py-class docutils literal"><span class="pre">nilearn.input_data.NiftiMapsMasker</span></code></a>. It is created by
specifying the important parameters, in particular the atlas:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">nilearn.input_data</span> <span class="kn">import</span> <span class="n">NiftiMapsMasker</span>
<span class="n">masker</span> <span class="o">=</span> <span class="n">NiftiMapsMasker</span><span class="p">(</span><span class="n">maps_img</span><span class="o">=</span><span class="n">atlas_filename</span><span class="p">,</span> <span class="n">standardize</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The <cite>fit_transform</cite> method turns filenames or <a class="reference external" href="http://nipy.org/nibabel/nibabel_images.html">NiftiImage objects</a> to time series:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">time_series</span> <span class="o">=</span> <span class="n">masker</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">frmi_files</span><span class="p">,</span> <span class="n">confounds</span><span class="o">=</span><span class="n">csv_file</span><span class="p">)</span>
</pre></div>
</div>
<p>The procedure is the same as with <a class="reference external" href="parcellation_time_series">brain parcellations</a> but using the <a class="reference internal" href="../modules/generated/nilearn.input_data.NiftiMapsMasker.html#nilearn.input_data.NiftiMapsMasker" title="nilearn.input_data.NiftiMapsMasker"><code class="xref py py-class docutils literal"><span class="pre">NiftiMapsMasker</span></code></a>, and
the same considerations on using confounds regressors apply.</p>
<a class="reference external image-reference" href="../auto_examples/connectivity/plot_probabilistic_atlas_extraction.html"><img alt="../_images/plot_probabilistic_atlas_extraction_0011.png" src="../_images/plot_probabilistic_atlas_extraction_0011.png" style="width: 300.0px; height: 300.0px;" /></a>
<div class="topic">
<p class="topic-title first"><strong>Full example</strong></p>
<p>A full example of extracting signals on a probabilistic:
<a class="reference internal" href="../auto_examples/connectivity/plot_probabilistic_atlas_extraction.html#example-connectivity-plot-probabilistic-atlas-extraction-py"><span>Extracting signals of a probabilistic atlas of rest functional regions</span></a></p>
</div>
<div class="green topic">
<p class="topic-title first"><strong>Exercise: correlation matrix of rest fmri on probabilistic atlas</strong></p>
<p>Try to compute the correlation matrix of the first subject of the ADHD
dataset downloaded with <a class="reference internal" href="../modules/generated/nilearn.datasets.fetch_adhd.html#nilearn.datasets.fetch_adhd" title="nilearn.datasets.fetch_adhd"><code class="xref py py-func docutils literal"><span class="pre">nilearn.datasets.fetch_adhd</span></code></a>
with the MSDL atlas downloaded via
<a class="reference internal" href="../modules/generated/nilearn.datasets.fetch_msdl_atlas.html#nilearn.datasets.fetch_msdl_atlas" title="nilearn.datasets.fetch_msdl_atlas"><code class="xref py py-func docutils literal"><span class="pre">nilearn.datasets.fetch_msdl_atlas</span></code></a></p>
<p><strong>Hint:</strong> The example above has the solution</p>
</div>
</div>
</div>
<div class="section" id="a-functional-connectome-a-graph-of-interactions">
<h2><a class="toc-backref" href="#id5">3.1.3. A functional connectome: a graph of interactions</a><a class="headerlink" href="#a-functional-connectome-a-graph-of-interactions" title="Permalink to this headline">Â¶</a></h2>
<p>A square matrix, such as a correlation matrix, can also be seen as a
<a class="reference external" href="http://en.wikipedia.org/wiki/Graph_%28mathematics%29">&#8220;graph&#8221;</a>: a set
of &#8220;nodes&#8221;, connected by &#8220;edges&#8221;. When these nodes are brain regions, and
the edges capture interactions between them, this graph is a &#8220;functional
connectome&#8221;.</p>
<p>We can display it with the <a class="reference internal" href="../modules/generated/nilearn.plotting.plot_connectome.html#nilearn.plotting.plot_connectome" title="nilearn.plotting.plot_connectome"><code class="xref py py-func docutils literal"><span class="pre">nilearn.plotting.plot_connectome</span></code></a>
function that take the matrix, and coordinates of the nodes in MNI space.
In the case of the MSDL atlas
(<a class="reference internal" href="../modules/generated/nilearn.datasets.fetch_msdl_atlas.html#nilearn.datasets.fetch_msdl_atlas" title="nilearn.datasets.fetch_msdl_atlas"><code class="xref py py-func docutils literal"><span class="pre">nilearn.datasets.fetch_msdl_atlas</span></code></a>), the CSV file readily comes
with MNI coordinates for each region (see for instance example:
<a class="reference internal" href="../auto_examples/connectivity/plot_probabilistic_atlas_extraction.html#example-connectivity-plot-probabilistic-atlas-extraction-py"><span>Extracting signals of a probabilistic atlas of rest functional regions</span></a>).</p>
<p>For another atlas this information can be computed for each region with
the <a class="reference internal" href="../modules/generated/nilearn.plotting.find_xyz_cut_coords.html#nilearn.plotting.find_xyz_cut_coords" title="nilearn.plotting.find_xyz_cut_coords"><code class="xref py py-func docutils literal"><span class="pre">nilearn.plotting.find_xyz_cut_coords</span></code></a> function
(see example:
<a class="reference internal" href="../auto_examples/connectivity/plot_multi_subject_connectome.html#example-connectivity-plot-multi-subject-connectome-py"><span>Group Sparse inverse covariance for multi-subject connectome</span></a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nilearn</span> <span class="kn">import</span> <span class="n">image</span><span class="p">,</span> <span class="n">plotting</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atlas_region_coords</span> <span class="o">=</span> <span class="p">[</span><span class="n">plotting</span><span class="o">.</span><span class="n">find_xyz_cut_coords</span><span class="p">(</span><span class="n">img</span><span class="p">)</span> <span class="k">for</span> <span class="n">img</span> <span class="ow">in</span> <span class="n">image</span><span class="o">.</span><span class="n">iter_img</span><span class="p">(</span><span class="n">atlas_filename</span><span class="p">)]</span>
</pre></div>
</div>
<a class="reference external image-reference" href="../auto_examples/connectivity/plot_probabilistic_atlas_extraction.html"><img alt="../_images/plot_probabilistic_atlas_extraction_0021.png" src="../_images/plot_probabilistic_atlas_extraction_0021.png" /></a>
<p>As you can see, the correlation matrix gives a very &#8220;full&#8221; graph: every
node is connected to every other one. This is because is also captures
indirect connections. In the next section we will see how to focus on
only direct connections.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="topic">
<p class="topic-title first"><strong>References</strong></p>
<ul class="simple">
<li><a class="reference external" href="http://www.sciencedirect.com/science/article/pii/S1053811912001784">Zalesky NeuroImage 2012 &#8220;On the use of correlation as a measure of
network connectivity&#8221;</a></li>
<li><a class="reference external" href="http://www.sciencedirect.com/science/article/pii/S1053811913003340">Varoquaux NeuroImage 2013, Learning and comparing functional
connectomes across subjects,</a></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="right" >
          <a href="connectome_extraction.html" title="3.2. Connectome extraction: inverse covariance for direct connections"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="3. Functional connectivity and resting state"
             >previous</a> |</li>
<li><a href="../index.html">Nilearn Home</a> |&nbsp;</li>
<li><a href="../user_guide.html">User Guide</a> |&nbsp;</li>
<li><a href="../auto_examples/index.html">Examples</a> |&nbsp;</li>
<li><a href="../modules/reference.html">Reference</a> |&nbsp;</li>
<li id="navbar-about"><a href="../AUTHORS.html">About</a>|&nbsp;</li>
<li id="navbar-ecosystem"><a href="http://www.nipy.org/">Nipy ecosystem</a></li>

          <li class="nav-item nav-item-1"><a href="index.html" >3. Functional connectivity and resting state</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
            &copy; The nilearn developers 2010-2015.
          Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1.
        <span style="padding-left: 5ex;">
          <a href="../_sources/connectivity/functional_connectomes.txt"
        	 rel="nofollow">Show this page source</a>
        </span>
    </div>
  </body>
</html>